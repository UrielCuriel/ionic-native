var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
import { Injectable } from '@angular/core';
import { IonicNativePlugin, cordova } from '@ionic-native/core';
import { Observable } from 'rxjs';
var Purchases = /** @class */ (function (_super) {
    __extends(Purchases, _super);
    function Purchases() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Purchases.prototype.setup = function (apiKey, appUserID) { return cordova(this, "setup", { "sync": true }, arguments); };
    Purchases.prototype.setAllowSharingStoreAccount = function (allowSharing) { return cordova(this, "setAllowSharingStoreAccount", { "sync": true }, arguments); };
    Purchases.prototype.addAttributionData = function (data, network) { return cordova(this, "addAttributionData", { "sync": true }, arguments); };
    Purchases.prototype.getEntitlements = function () { return cordova(this, "getEntitlements", { "observable": true }, arguments); };
    Purchases.prototype.getProducts = function (productIdentifiers, type) {
        if (type === void 0) { type = ProductType.SUBS; }
        return cordova(this, "getProducts", { "successIndex": 1, "errorIndex": 2, "observable": true }, arguments);
    };
    Purchases.prototype.makePurchase = function (productIdentifier, oldSkus, type) {
        if (oldSkus === void 0) { oldSkus = []; }
        if (type === void 0) { type = ProductType.SUBS; }
        return cordova(this, "makePurchase", { "successIndex": 1, "errorIndex": 2, "observable": true }, arguments);
    };
    Purchases.prototype.restoreTransactions = function () { return cordova(this, "restoreTransactions", { "observable": true }, arguments); };
    Purchases.prototype.getAppUserID = function () { return cordova(this, "getAppUserID", {}, arguments); };
    Purchases.prototype.createAlias = function (newAppUserID) { return cordova(this, "createAlias", { "observable": true }, arguments); };
    Purchases.prototype.identify = function (newAppUserID) { return cordova(this, "identify", { "observable": true }, arguments); };
    Purchases.prototype.reset = function () { return cordova(this, "reset", { "observable": true }, arguments); };
    Purchases.prototype.getPurchaserInfo = function () { return cordova(this, "getPurchaserInfo", { "observable": true }, arguments); };
    Purchases.prototype.onPurchaserInfoUpdated = function () { return cordova(this, "onPurchaserInfoUpdated", { "eventObservable": true, "event": "onPurchaserInfoUpdated", "element": "window" }, arguments); };
    Purchases.prototype.setDebugLogsEnabled = function (enabled) { return cordova(this, "setDebugLogsEnabled", { "sync": true }, arguments); };
    Purchases.pluginName = "Purchases";
    Purchases.plugin = "cordova-plugin-purchases";
    Purchases.pluginRef = "Purchases";
    Purchases.repo = "https://github.com/RevenueCat/cordova-plugin-purchases";
    Purchases.platforms = ["Android", "iOS"];
    Purchases = __decorate([
        Injectable({
            providedIn: 'root'
        })
    ], Purchases);
    return Purchases;
}(IonicNativePlugin));
export { Purchases };
export var ProductType;
(function (ProductType) {
    ProductType["SUBS"] = "subs";
    ProductType["INAPP"] = "inapp";
})(ProductType || (ProductType = {}));
export var ATTRIBUTION_NETWORKS;
(function (ATTRIBUTION_NETWORKS) {
    ATTRIBUTION_NETWORKS[ATTRIBUTION_NETWORKS["APPLE_SEARCH_ADS"] = 0] = "APPLE_SEARCH_ADS";
    ATTRIBUTION_NETWORKS[ATTRIBUTION_NETWORKS["ADJUST"] = 1] = "ADJUST";
    ATTRIBUTION_NETWORKS[ATTRIBUTION_NETWORKS["APPSFLYER"] = 2] = "APPSFLYER";
    ATTRIBUTION_NETWORKS[ATTRIBUTION_NETWORKS["BRANCH"] = 3] = "BRANCH";
    ATTRIBUTION_NETWORKS[ATTRIBUTION_NETWORKS["TENJIN"] = 4] = "TENJIN";
})(ATTRIBUTION_NETWORKS || (ATTRIBUTION_NETWORKS = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvQGlvbmljLW5hdGl2ZS9wbHVnaW5zL3B1cmNoYXNlcy9uZ3gvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDM0MsT0FBTyw4QkFBc0MsTUFBTSxvQkFBb0IsQ0FBQztBQUN4RSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sTUFBTSxDQUFDOztJQStNSCw2QkFBaUI7Ozs7SUFPOUMseUJBQUssYUFBQyxNQUFjLEVBQUUsU0FBaUI7SUFTdkMsK0NBQTJCLGFBQUMsWUFBcUI7SUFRakQsc0NBQWtCLGFBQ2hCLElBQTRCLEVBQzVCLE9BQTZCO0lBUy9CLG1DQUFlO0lBZ0JmLCtCQUFXLGFBQ1Qsa0JBQTRCLEVBQzVCLElBQW9DO1FBQXBDLHFCQUFBLEVBQUEsT0FBb0IsV0FBVyxDQUFDLElBQUk7OztJQWtCdEMsZ0NBQVksYUFDVixpQkFBeUIsRUFDekIsT0FBc0IsRUFDdEIsSUFBb0M7UUFEcEMsd0JBQUEsRUFBQSxZQUFzQjtRQUN0QixxQkFBQSxFQUFBLE9BQW9CLFdBQVcsQ0FBQyxJQUFJOzs7SUFXdEMsdUNBQW1CO0lBVW5CLGdDQUFZO0lBV1osK0JBQVcsYUFBQyxZQUFvQjtJQVdoQyw0QkFBUSxhQUFDLFlBQW9CO0lBVTdCLHlCQUFLO0lBV0wsb0NBQWdCO0lBY2hCLDBDQUFzQjtJQVN0Qix1Q0FBbUIsYUFBQyxPQUFnQjs7Ozs7O0lBakt6QixTQUFTO1FBSHJCLFVBQVUsQ0FBQztZQUNWLFVBQVUsRUFBRSxNQUFNO1NBQ25CLENBQUM7T0FDVyxTQUFTO29CQWpOdEI7RUFpTitCLGlCQUFpQjtTQUFuQyxTQUFTO0FBb0t0QixNQUFNLENBQU4sSUFBWSxXQUdYO0FBSEQsV0FBWSxXQUFXO0lBQ3JCLDRCQUFhLENBQUE7SUFDYiw4QkFBZSxDQUFBO0FBQ2pCLENBQUMsRUFIVyxXQUFXLEtBQVgsV0FBVyxRQUd0QjtBQUVELE1BQU0sQ0FBTixJQUFZLG9CQU1YO0FBTkQsV0FBWSxvQkFBb0I7SUFDOUIsdUZBQW9CLENBQUE7SUFDcEIsbUVBQVUsQ0FBQTtJQUNWLHlFQUFhLENBQUE7SUFDYixtRUFBVSxDQUFBO0lBQ1YsbUVBQVUsQ0FBQTtBQUNaLENBQUMsRUFOVyxvQkFBb0IsS0FBcEIsb0JBQW9CLFFBTS9CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUGx1Z2luLCBDb3Jkb3ZhLCBJb25pY05hdGl2ZVBsdWdpbiB9IGZyb20gJ0Bpb25pYy1uYXRpdmUvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5cbi8qKlxuICogQG5hbWUgUHVyY2hhc2VzXG4gKiBAZGVzY3JpcHRpb25cbiAqIFB1cmNoYXNlcyBpcyBhIGNyb3NzIHBsYXRmb3JtIHNvbHV0aW9uIGZvciBtYW5hZ2luZyBpbi1hcHAgc3Vic2NyaXB0aW9ucy4gQSBiYWNrZW5kIGlzIGFsc28gcHJvdmlkZWQgdmlhIFtSZXZlbnVlQ2F0XShodHRwczovL3d3dy5yZXZlbnVlY2F0LmNvbSlcbiAqXG4gKiAjIyBGZWF0dXJlc1xuICogfCAgICAgfCBSZXZlbnVlQ2F0ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAtLS0gfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gfFxuICogfCDinIUgIHwgU2VydmVyLXNpZGUgcmVjZWlwdCB2YWxpZGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwg4p6h77iPICB8IFtXZWJob29rc10oaHR0cHM6Ly9kb2NzLnJldmVudWVjYXQuY29tL2RvY3Mvd2ViaG9va3MpIC0gZW5oYW5jZWQgc2VydmVyLXRvLXNlcnZlciBjb21tdW5pY2F0aW9uIHdpdGggZXZlbnRzIGZvciBwdXJjaGFzZXMsIHJlbmV3YWxzLCBjYW5jZWxsYXRpb25zLCBhbmQgbW9yZSB8XG4gKiB8IPCfjq8gIHwgU3Vic2NyaXB0aW9uIHN0YXR1cyB0cmFja2luZyAtIGtub3cgd2hldGhlciBhIHVzZXIgaXMgc3Vic2NyaWJlZCB3aGV0aGVyIHRoZXkncmUgb24gaU9TLCBBbmRyb2lkIG9yIHdlYiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwg8J+TiiAgfCBBbmFseXRpY3MgLSBhdXRvbWF0aWMgY2FsY3VsYXRpb24gb2YgbWV0cmljcyBsaWtlIGNvbnZlcnNpb24sIG1yciwgYW5kIGNodXJuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCDwn5OdICB8IFtPbmxpbmUgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9kb2NzLnJldmVudWVjYXQuY29tL2RvY3MpIHVwIHRvIGRhdGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IPCflIAgIHwgW0ludGVncmF0aW9uc10oaHR0cHM6Ly93d3cucmV2ZW51ZWNhdC5jb20vaW50ZWdyYXRpb25zKSAtIG92ZXIgYSBkb3plbiBpbnRlZ3JhdGlvbnMgdG8gZWFzaWx5IHNlbmQgcHVyY2hhc2UgZGF0YSB3aGVyZSB5b3UgbmVlZCBpdCAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwg8J+SryAgfCBXZWxsIG1haW50YWluZWQgLSBbZnJlcXVlbnQgcmVsZWFzZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9SZXZlbnVlQ2F0L3B1cmNoYXNlcy1pb3MvcmVsZWFzZXMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCDwn5OuICB8IEdyZWF0IHN1cHBvcnQgLSBbSGVscCBDZW50ZXJdKGh0dHBzOi8vZG9jcy5yZXZlbnVlY2F0LmNvbS9kaXNjdXNzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IPCfpKkgIHwgQXdlc29tZSBbbmV3IGZlYXR1cmVzXShodHRwczovL3RyZWxsby5jb20vYi9SWlJuV1JiSS9yZXZlbnVlY2F0LXByb2R1Y3Qtcm9hZG1hcCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiAjIyBHZXR0aW5nIFN0YXJ0ZWRcbiAqXG4gKiBGb3IgbW9yZSBkZXRhaWxlZCBpbmZvcm1hdGlvbiwgeW91IGNhbiB2aWV3IG91ciBjb21wbGV0ZSBkb2N1bWVudGF0aW9uIGF0IFtkb2NzLnJldmVudWVjYXQuY29tXShodHRwczovL2RvY3MucmV2ZW51ZWNhdC5jb20vZG9jcykuXG4gKlxuICogQHVzYWdlXG4gKiAjIyMjIDEuIEdldCBhIFJldmVudWVDYXQgQVBJIGtleVxuICpcbiAqIExvZyBpbiB0byB0aGUgW1JldmVudWVDYXQgZGFzaGJvYXJkXShodHRwczovL2FwcC5yZXZlbnVlY2F0LmNvbSkgYW5kIG9idGFpbiBhIGZyZWUgQVBJIGtleSBmb3IgeW91ciBhcHBsaWNhdGlvbi5cbiAqXG4gKiAjIyMjIDIuIEluaXRpYWxpemUgdGhlIFNES1xuICpcbiAqIFlvdSBzaG91bGQgb25seSBjb25maWd1cmUgX1B1cmNoYXNlc18gb25jZSAodXN1YWxseSBvbiBhcHAgbGF1bmNoKSBhcyBzb29uIGFzIHlvdXIgYXBwIGhhcyBhIHVuaXF1ZSB1c2VyIGlkIGZvciB5b3VyIHVzZXIuIFRoaXMgY2FuIGJlIHdoZW4gYSB1c2VyIGxvZ3MgaW4gaWYgeW91IGhhdmUgYWNjb3VudHMgb3Igb24gbGF1bmNoIGlmIHlvdSBjYW4gZ2VuZXJhdGUgYSByYW5kb20gdXNlciBpZGVudGlmaWVyLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICBpbXBvcnQgeyBQbGF0Zm9ybSB9IGZyb20gXCJAaW9uaWMvYW5ndWxhclwiO1xuICogIGltcG9ydCB7IFB1cmNoYXNlcyB9IGZyb20gXCJAaW9uaWMtbmF0aXZlL3B1cmNoYXNlcy9uZ3hcIjtcbiAqXG4gKiAgY29uc3RydWN0b3IocHVibGljIHBsYXRmb3JtOiBQbGF0Zm9ybSwgcHJpdmF0ZSBwdXJjaGFzZXM6IFB1cmNoYXNlcykge1xuICogICAgICBwbGF0Zm9ybS5yZWFkeSgpLnRoZW4oKCkgPT4ge1xuICogICAgICAgICAgdGhpcy5wdXJjaGFzZXMuc2V0RGVidWdMb2dzRW5hYmxlZCh0cnVlKTsgLy8gRW5hYmxlIHRvIGdldCBkZWJ1ZyBsb2dzXG4gKiAgICAgICAgICB0aGlzLnB1cmNoYXNlcy5zZXR1cChcIm15X2FwaV9rZXlcIiwgXCJteV9hcHBfdXNlcl9pZFwiKTtcbiAqICAgICAgfVxuICogIH1cbiAqIGBgYFxuICogIyMjIyAzLiBEaXNwbGF5aW5nIEF2YWlsYWJsZSBQcm9kdWN0c1xuICpcbiAqIF9QdXJjaGFzZXNfIHdpbGwgYXV0b21hdGljYWxseSBmZXRjaCB0aGUgbGF0ZXN0IF9hY3RpdmVfIGVudGl0bGVtZW50cyBhbmQgZ2V0IHRoZSBwcm9kdWN0IGluZm9ybWF0aW9uIGZyb20gQXBwbGUgb3IgR29vZ2xlLiBUaGlzIG1lYW5zIHdoZW4gdXNlcnMgbGF1bmNoIHlvdXIgcHVyY2hhc2Ugc2NyZWVuLCBwcm9kdWN0cyB3aWxsIGFscmVhZHkgYmUgbG9hZGVkLlxuICpcbiAqIEJlbG93IGlzIGFuIGV4YW1wbGUgb2YgZmV0Y2hpbmcgZW50aXRsZW1lbnRzIGFuZCBsYXVuY2hpbmcgYW4gdXBzZWxsIHNjcmVlbi5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB0aGlzLnB1cmNoYXNlcy5nZXRFbnRpdGxlbWVudHMoKVxuICogICAgICAuc3Vic2NyaWJlKGVudGl0bGVtZW50cyA9PiAsXG4gKiAgICAgICAgICAgICAgICAgZXJyb3IgPT4gKTtcbiAqIGBgYFxuICpcbiAqICMjIyMgNC4gTWFrZSBhIHB1cmNoYXNlXG4gKlxuICogV2hlbiBpdCBjb21lcyB0aW1lIHRvIG1ha2UgYSBwdXJjaGFzZSwgX1B1cmNoYXNlc18gaGFzIGEgc2ltcGxlIG1ldGhvZCwgYG1ha2VQdXJjaGFzZWAuIFRoZSBjb2RlIHNhbXBsZSBiZWxvdyBzaG93cyB0aGUgcHJvY2VzcyBvZiBwdXJjaGFzaW5nIGEgcHJvZHVjdCBhbmQgY29uZmlybWluZyBpdCB1bmxvY2tzIHRoZSBcIm15X2VudGl0bGVtZW50X2lkZW50aWZpZXJcIiBjb250ZW50LlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHRoaXMucHVyY2hhc2VzLm1ha2VQdXJjaGFzZShcInByb2R1Y3RfaWRcIilcbiAqICAgICAgLnN1YnNjcmliZShyZXNwb25zZSA9PiB7XG4gKiAgICAgICAgICBpZiAocmVzcG9uc2UucHVyY2hhc2VySW5mby5hY3RpdmVFbnRpdGxlbWVudHMuaW5jbHVkZXMoXCJteV9lbnRpdGxlbWVudF9pZGVudGlmaWVyXCIpKSB7XG4gKiAgICAgICAgICAgICAgLy8gVW5sb2NrIGNvbnRlbnRcbiAqICAgICAgICAgIH1cbiAqICAgICAgfSxcbiAqICAgICAgKHsgZXJyb3IsIHVzZXJDYW5jZWxsZWQgfSkgPT4gLy8gRXJyb3IgbWFraW5nIHB1cmNoYXNlLiBZb3UgY2FuIGNoZWNrIGVycm9yLnVzZXJDYW5jZWxsZWQgdG8gY2hlY2sgaWYgdXNlciBjYW5jZWxsZWQgdGhlIHB1cmNoYXNlXG4gKiAgICAgICk7XG4gKlxuICogYGBgXG4gKlxuICogYG1ha2VQdXJjaGFzZWAgaGFuZGxlcyB0aGUgdW5kZXJseWluZyBmcmFtZXdvcmsgaW50ZXJhY3Rpb24gYW5kIGF1dG9tYXRpY2FsbHkgdmFsaWRhdGVzIHB1cmNoYXNlcyB3aXRoIEFwcGxlIGFuZCBHb29nbGUgdGhyb3VnaCBvdXIgc2VjdXJlIHNlcnZlcnMuIFRoaXMgaGVscHMgcmVkdWNlIGluLWFwcCBwdXJjaGFzZSBmcmF1ZCBhbmQgZGVjcmVhc2VzIHRoZSBjb21wbGV4aXR5IG9mIHlvdXIgYXBwLiBSZWNlaXB0IHRva2VucyBhcmUgc3RvcmVkIHJlbW90ZWx5IGFuZCBhbHdheXMga2VwdCB1cC10by1kYXRlLlxuICpcbiAqICMjIyMgNS4gR2V0IFN1YnNjcmlwdGlvbiBTdGF0dXNcbiAqXG4gKiBfUHVyY2hhc2VzXyBtYWtlcyBpdCBlYXN5IHRvIGNoZWNrIHdoYXQgYWN0aXZlIHN1YnNjcmlwdGlvbnMgdGhlIGN1cnJlbnQgdXNlciBoYXMuIFRoaXMgY2FuXG4gKiBiZSBkb25lIHR3byB3YXlzIHdpdGhpbiB0aGUgYC5wdXJjaGFzZXJJbmZvYCBtZXRob2Q6XG4gKlxuICogMS4gQ2hlY2tpbmcgYWN0aXZlIEVudGl0bGVtZW50cyAtIHRoaXMgbGV0cyB5b3Ugc2VlIHdoYXQgZW50aXRsZW1lbnRzIChbZnJvbSBSZXZlbnVlQ2F0IGRhc2hib2FyZF0oaHR0cHM6Ly9hcHAucmV2ZW51ZWNhdC5jb20pKVxuICogYXJlIGFjdGl2ZSBmb3IgdGhlIHVzZXIuXG4gKiAyLiBDaGVja2luZyB0aGUgYWN0aXZlIHN1YnNjcmlwdGlvbnMgLSB0aGlzIGxldHMgeW91IHNlZSB3aGF0IHByb2R1Y3QgaWRzIChmcm9tIGlUdW5lcyBDb25uZWN0IG9yIFBsYXkgU3RvcmUpIGFyZSBhY3RpdmUgZm9yIHRoZSB1c2VyLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqICB0aGlzLnB1cmNoYXNlcy5nZXRQdXJjaGFzZXJJbmZvKClcbiAqICAgICAgLnN1YnNjcmliZShpbmZvID0+IHtcbiAqICAgICAgICAgIC8vIE9wdGlvbiAxOiBDaGVjayBpZiB1c2VyIGhhcyBhY2Nlc3MgdG8gZW50aXRsZW1lbnQgKGZyb20gUmV2ZW51ZUNhdCBkYXNoYm9hcmQpXG4gKiAgICAgICAgICBjb25zdCBpc1BybyA9XG4gKiAgICAgICAgICAgICAgaW5mby5hY3RpdmVFbnRpdGxlbWVudHMgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAqICAgICAgICAgICAgICBpbmZvLmFjdGl2ZUVudGl0bGVtZW50cy5pbmNsdWRlcyhcInByb1wiKTtcbiAqICAgICAgICAgIC8vIE9wdGlvbiAyOiBDaGVjayBpZiB1c2VyIGhhcyBhY3RpdmUgc3Vic2NyaXB0aW9uIChmcm9tIEFwcCBTdG9yZSBDb25uZWN0IG9yIFBsYXkgU3RvcmUpXG4gKiAgICAgICAgICBjb25zdCBpc1BybyA9XG4gKiAgICAgICAgICAgICAgaW5mby5hY3RpdmVTdWJzY3JpcHRpb25zICE9PSBcInVuZGVmaW5lZFwiICYmXG4gKiAgICAgICAgICAgICAgaW5mby5hY3RpdmVTdWJzY3JpcHRpb25zLmluY2x1ZGVzKFwibXlfcHJvZHVjdF9pZGVudGlmaWVyXCIpO1xuICogICAgICB9LFxuICogICAgICBlcnJvciA9PiApO1xuICogYGBgXG4gKlxuICogPiBTaW5jZSB0aGUgU0RLIHVwZGF0ZXMgYW5kIGNhY2hlcyB0aGUgbGF0ZXN0IFB1cmNoYXNlckluZm8gd2hlbiB0aGUgYXBwIGJlY29tZXMgYWN0aXZlLCB0aGUgY29tcGxldGlvbiBibG9jayBpbiBgLnB1cmNoYXNlckluZm9gIHdvbid0IG5lZWQgdG8gbWFrZSBhIG5ldHdvcmsgcmVxdWVzdCBpbiBtb3N0IGNhc2VzLlxuICpcbiAqICMjIyBSZXN0b3JpbmcgUHVyY2hhc2VzXG4gKlxuICogUmVzdG9yaW5nIHB1cmNoYXNlcyBpcyBhIG1lY2hhbmlzbSBieSB3aGljaCB5b3VyIHVzZXIgY2FuIHJlc3RvcmUgdGhlaXIgaW4tYXBwIHB1cmNoYXNlcywgcmVhY3RpdmF0aW5nIGFueSBjb250ZW50IHRoYXQgaGFkIHByZXZpb3VzbHkgYmVlbiBwdXJjaGFzZWQgZnJvbSB0aGUgc2FtZSBzdG9yZSBhY2NvdW50IChBcHBsZSBvciBHb29nbGUpLlxuICpcbiAqIElmIHR3byBkaWZmZXJlbnQgQXBwIFVzZXIgSURzIHRyeSB0byByZXN0b3JlIHRyYW5zYWN0aW9ucyBmcm9tIHRoZSBzYW1lIHVuZGVybHlpbmcgc3RvcmUgYWNjb3VudCAoQXBwbGUgb3IgR29vZ2xlKSBSZXZlbnVlQ2F0IHdpbGwgY3JlYXRlIGFuIGFsaWFzIGJldHdlZW4gdGhlIHR3byBBcHAgVXNlciBJRHMgYW5kIGNvdW50IHRoZW0gYXMgdGhlIHNhbWUgdXNlciBnb2luZyBmb3J3YXJkLlxuICpcbiAqIFRoaXMgaXMgYSBjb21tb24gaWYgeW91ciBhcHAgZG9lcyBub3QgaGF2ZSBhY2NvdW50cyBhbmQgaXMgcmVseWluZyBvbiBSZXZlbnVlQ2F0J3MgcmFuZG9tIEFwcCBVc2VyIElEcy5cbiAqXG4gKiBgYGB0eXBlc2NyaXB0XG4gKiB0aGlzLnB1cmNoYXNlcy5yZXN0b3JlKClcbiAqICAgICAgLnN1YnNjcmliZShpbmZvID0+IHtcbiAqICAgICAgICAgICAvLy4uLiBjaGVjayBwdXJjaGFzZXJJbmZvIHRvIHNlZSBpZiBlbnRpdGxlbWVudCBpcyBub3cgYWN0aXZlXG4gKiAgICAgIH0sXG4gKiAgICAgIGVycm9yID0+ICk7XG4gKiBgYGBcbiAqID4gSWYgeW91J3ZlIHByb3ZpZGVkIHlvdXIgb3duIEFwcCBVc2VyIElELCBjYWxsaW5nIHJlc3RvcmVUcmFuc2FjdGlvbnMgY291bGQgYWxpYXMgdGhlIGxvZ2dlZCBpbiB1c2VyIHRvIGFub3RoZXIgZ2VuZXJhdGVkIEFwcCBVc2VyIElEIHRoYXQgaGFzIG1hZGUgYSBwdXJjaGFzZSBvbiB0aGUgc2FtZSBkZXZpY2UuXG4gKlxuICogPiBCeSBkZWZhdWx0LCBSZXZlbnVlQ2F0IHdpbGwgbm90IGxldCB5b3UgcmV1c2UgYW4gQXBwIG9yIFBsYXkgU3RvcmUgYWNjb3VudCB0aGF0IGFscmVhZHkgaGFzIGFuIGFjdGl2ZSBzdWJzY3JpcHRpb24uIElmIHlvdSBzZXQgYWxsb3dTaGFyaW5nQXBwU3RvcmVBY2NvdW50ID0gVHJ1ZSB0aGUgU0RLIHdpbGwgYmUgcGVybWlzc2l2ZSBpbiBhY2NlcHRpbmcgc2hhcmVkIGFjY291bnRzLCBjcmVhdGluZyBhbGlhc2VzIGFzIG5lZWRlZC5cbiAqXG4gKiA+IEJ5IGRlZmF1bHQgYWxsb3dTaGFyaW5nQXBwU3RvcmVBY2NvdW50IGlzIFRydWUgZm9yIFJldmVudWVDYXQgcmFuZG9tIEFwcCBVc2VyIElEcyBidXQgbXVzdCBiZSBlbmFibGVkIG1hbnVhbGx5IGlmIHlvdSB3YW50IHRvIGFsbG93IHBlcm1pc3NpdmUgc2hhcmluZyBmb3IgeW91ciBvd24gQXBwIFVzZXIgSURzLlxuICpcbiAqICMjIERlYnVnZ2luZ1xuICpcbiAqIFlvdSBjYW4gZW5hYmxlZCBkZXRhaWxlZCBkZWJ1ZyBsb2dzIGJ5IHNldHRpbmcgYGRlYnVnTG9nc0VuYWJsZWQgPSB0cnVlYC4gWW91IGNhbiBzZXQgdGhpcyAqKmJlZm9yZSoqIHlvdSBjb25maWd1cmUgUHVyY2hhc2VzLlxuICpcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIHRoaXMucHVyY2hhc2VzLnNldERlYnVnTG9nc0VuYWJsZWQodHJ1ZSk7XG4gKiB0aGlzLnB1cmNoYXNlcy5zZXR1cChcIm15X2FwaV9rZXlcIiwgXCJteV9hcHBfdXNlcl9pZFwiKTtcbiAqIGBgYFxuICpcbiAqICoqT1NfQUNUSVZJVFlfTU9ERSoqXG4gKiA+IE9uIGlPUywgZGlzYWJsaW5nIGBPU19BQ1RJVklUWV9NT0RFYCBpbiB5b3VyIFhDb2RlIHNjaGVtZSB3aWxsIGJsb2NrIGRlYnVnIGxvZ3MgZnJvbSBwcmludGluZyBpbiB0aGUgY29uc29sZS4gSWYgeW91IGhhdmUgZGVidWcgbG9ncyBlbmFibGVkLCBidXQgZG9uJ3Qgc2VlIGFueSBvdXRwdXQsIGdvIHRvIGBQcm9kdWN0IC0+IFNjaGVtZSAtPiBFZGl0IFNjaGVtZS4uLmAgaW4gWGNvZGUgYW5kIHVuY2hlY2sgdGhlIGBPU19BQ1RJVklUWV9NT0RFYCBlbnZpcm9ubWVudCB2YXJpYWJsZS5cbiAqXG4gKiBFeGFtcGxlIG91dHB1dDpcbiAqIGBgYFxuICogW1B1cmNoYXNlc10gLSBERUJVRzogRGVidWcgbG9nZ2luZyBlbmFibGVkLlxuICogW1B1cmNoYXNlc10gLSBERUJVRzogU0RLIFZlcnNpb24gLSAyLjAuMFxuICogW1B1cmNoYXNlc10gLSBERUJVRzogSW5pdGlhbCBBcHAgVXNlciBJRCAtIChudWxsKVxuICogW1B1cmNoYXNlc10gLSBERUJVRzogR0VUIC92MS9zdWJzY3JpYmVycy88QVBQX1VTRVJfSUQ+XG4gKiBbUHVyY2hhc2VzXSAtIERFQlVHOiBHRVQgL3YxL3N1YnNjcmliZXJzLzxBUFBfVVNFUl9JRD4vcHJvZHVjdHNcbiAqIFtQdXJjaGFzZXNdIC0gREVCVUc6IE5vIGNhY2hlZCBlbnRpdGxlbWVudHMsIGZldGNoaW5nXG4gKiBbUHVyY2hhc2VzXSAtIERFQlVHOiBWZW5kaW5nIHB1cmNoYXNlckluZm8gZnJvbSBjYWNoZVxuICogW1B1cmNoYXNlc10gLSBERUJVRzogYXBwbGljYXRpb25EaWRCZWNvbWVBY3RpdmVcbiAqIFtQdXJjaGFzZXNdIC0gREVCVUc6IEdFVCAvdjEvc3Vic2NyaWJlcnMvPEFQUF9VU0VSX0lEPi9wcm9kdWN0cyAyMDBcbiAqIGBgYFxuICogIyMgRW50aXRsZW1lbnRzXG4gKlxuICogQW4gZW50aXRsZW1lbnQgcmVwcmVzZW50cyBmZWF0dXJlcyBvciBjb250ZW50IHRoYXQgYSB1c2VyIGlzIFwiZW50aXRsZWRcIiB0by4gV2l0aCBFbnRpdGxlbWVudHMsIHlvdSBjYW4gc2V0IHVwIHlvdXIgYXZhaWxhYmxlIGluLWFwcCBwcm9kdWN0cyByZW1vdGVseSBhbmQgY29udHJvbCB0aGVpciBhdmFpbGFiaWxpdHkgd2l0aG91dCB0aGUgbmVlZCB0byB1cGRhdGUgeW91ciBhcHAuIEZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGNvbmZpZ3VyaW5nIGVudGl0bGVtZW50cywgbG9vayBhdCBvdXIgW2VudGl0bGVtZW50cyBkb2N1bWV0YXRpb25dKGh0dHBzOi8vZG9jcy5yZXZlbnVlY2F0LmNvbS9kb2NzL2VudGl0bGVtZW50cykuXG4gKlxuICogIyMgU2FtcGxlIEFwcFxuICpcbiAqIFdlJ3ZlIGFkZGVkIGFuIFtleGFtcGxlXShodHRwczovL2dpdGh1Yi5jb20vUmV2ZW51ZUNhdC9wdXJjaGFzZXMtaW9uaWMtZXhhbXBsZSkgc2hvd2luZyBhIHNpbXBsZSBleGFtcGxlIHVzaW5nIF9QdXJjaGFzZXNfIHdpdGggdGhlIFJldmVudWVDYXQgYmFja2VuZC4gTm90ZSB0aGF0IHRoZSBwcmUtcmVnaXN0ZXJlZCBpbiBhcHAgcHVyY2hhc2VzIGluIHRoZSBkZW1vIGFwcHMgYXJlIGZvciBpbGx1c3RyYXRpb24gcHVycG9zZXMgb25seSBhbmQgbWF5IG5vdCBiZSB2YWxpZCBpbiBBcHAgU3RvcmUgQ29ubmVjdC4gW1NldCB1cCB5b3VyIG93biBwdXJjaGFzZXNdKGh0dHBzOi8vZG9jcy5yZXZlbnVlY2F0LmNvbS9kb2NzL2VudGl0bGVtZW50cykgd2l0aCBSZXZlbnVlQ2F0IHdoZW4gcnVubmluZyB0aGUgZXhhbXBsZS5cbiAqXG4gKiAjIyMjIEFkZGl0aW9uYWwgaU9TIFNldHVwXG4gKlxuICogIyMjIyMgQWRkIFN0cmlwIEZyYW1ld29ya3MgUGhhc2VcbiAqIFRoZSBBcHAgU3RvcmUsIGluIGl0J3MgaW5maW5pdGUgd2lzZG9tLCBzdGlsbCByZWplY3RzIGZhdCBmcmFtZXdvcmtzLCBzbyB3ZSBuZWVkIHRvIHN0cmlwIG91ciBmcmFtZXdvcmsgYmVmb3JlIGl0IGlzIGRlcGxveWVkLiBUbyBkbyB0aGlzLCBhZGQgdGhlIGZvbGxvd2luZyBzY3JpcHQgcGhhc2UgdG8geW91ciBidWlsZC5cbiAqIDEuIEluIFhjb2RlLCBpbiBwcm9qZWN0IG1hbmFnZXIsIHNlbGVjdCB5b3VyIGFwcCB0YXJnZXQuXG4gKiAyLiBPcGVuIHRoZSBgQnVpbGQgUGhhc2VzYCB0YWJcbiAqIDMuIEFkZCBhIG5ldyBgUnVuIFNjcmlwdGAsIG5hbWUgaXQgYFN0cmlwIEZyYW1ld29ya3NgXG4gKiA0LiBBZGQgdGhlIGZvbGxvd2luZyBjb21tYW5kIGBcIiR7UFJPSkVDVF9ESVJ9Ly4uLy4uL25vZGVfbW9kdWxlcy9jb3Jkb3ZhLXBsdWdpbi1wdXJjaGFzZXMvc3JjL2lvcy9zdHJpcC1mcmFtZXdvcmtzLnNoXCJgIChxdW90ZXMgaW5jbHVkZWQpXG4gKlxuICogIVtdKGh0dHBzOi8vbWVkaWEuZ2lwaHkuY29tL21lZGlhLzM5elRtbnNXMUNJckpOazVBTS9naXBoeS5naWYpXG4gKlxuICogIyMgTmV4dCBTdGVwc1xuICogLSBIZWFkIG92ZXIgdG8gb3VyICoqW29ubGluZSBkb2N1bWVudGF0aW9uXShodHRwczovL2RvY3MucmV2ZW51ZWNhdC5jb20vZG9jcykqKiBmb3IgY29tcGxldGUgc2V0dXAgZ3VpZGVzXG4gKiAtIElmIHlvdSBoYXZlbid0IGFscmVhZHksIG1ha2Ugc3VyZSB5b3VyIHByb2R1Y3RzIGFyZSBjb25maWd1cmVkIGNvcnJlY3RseSBpbiB0aGUgUmV2ZW51ZUNhdCBkYXNoYm9hcmQgYnkgY2hlY2tpbmcgb3V0IG91ciBbZ3VpZGUgb24gZW50aXRsZW1lbnRzXShodHRwczovL2RvY3MucmV2ZW51ZWNhdC5jb20vZG9jcy9lbnRpdGxlbWVudHMpXG4gKiAtIElmIHlvdSB3YW50IHRvIHVzZSB5b3VyIG93biB1c2VyIGlkZW50aWZpZXJzLCByZWFkIGFib3V0IFtzZXR0aW5nIGFwcCB1c2VyIGlkc10oaHR0cHM6Ly9kb2NzLnJldmVudWVjYXQuY29tL2RvY3MvdXNlci1pZHMpXG4gKiAtIElmIHlvdSdyZSBtb3ZpbmcgdG8gUmV2ZW51ZUNhdCBmcm9tIGFub3RoZXIgc3lzdGVtLCBzZWUgb3VyIGd1aWRlIG9uIFttaWdyYXRpbmcgeW91ciBleGlzdGluZyBzdWJzY3JpcHRpb25zXShodHRwczovL2RvY3MucmV2ZW51ZWNhdC5jb20vZG9jcy9taWdyYXRpbmctZXhpc3Rpbmctc3Vic2NyaXB0aW9ucylcbiAqIC0gT25jZSB5b3UncmUgcmVhZHkgdG8gdGVzdCB5b3VyIGludGVncmF0aW9uLCB5b3UgY2FuIGZvbGxvdyBvdXIgZ3VpZGVzIG9uIFt0ZXN0aW5nIHB1cmNoYXNlc10oaHR0cHM6Ly9kb2NzLnJldmVudWVjYXQuY29tL2RvY3MvdGVzdGluZy1wdXJjaGFzZXMpXG4gKlxuICogIyMgUmVwb3J0aW5nIElzc3Vlc1xuICpcbiAqIFlvdSBjYW4gdXNlIEdpdGh1YiBJc3N1ZXMgdG8gcmVwb3J0IGFueSBidWdzIGFuZCBpc3N1ZXMgd2l0aCBfUHVyY2hhc2VzXy4gSGVyZSBpcyBzb21lIGFkdmljZSBmb3IgdXNlcnMgdGhhdCB3YW50IHRvIHJlcG9ydCBhbiBpc3N1ZTpcbiAqXG4gKiAxLiBNYWtlIHN1cmUgdGhhdCB5b3UgYXJlIHVzaW5nIHRoZSBsYXRlc3QgdmVyc2lvbiBvZiBfUHVyY2hhc2VzXy4gVGhlIGlzc3VlIHRoYXQgeW91IGFyZSBhYm91dCB0byByZXBvcnQgbWF5IGJlIGFscmVhZHkgZml4ZWQgaW4gdGhlIGxhdGVzdCBtYXN0ZXIgYnJhbmNoIHZlcnNpb246IGh0dHBzOi8vZ2l0aHViLmNvbS9yZXZlbnVlY2F0L2NvcmRvdmEtcGx1Z2luLXB1cmNoYXNlcy90cmVlL21hc3Rlci5cbiAqIDIuIFByb3ZpZGluZyByZXByb2R1Y2libGUgc3RlcHMgZm9yIHRoZSBpc3N1ZSB3aWxsIHNob3J0ZW4gdGhlIHRpbWUgaXQgdGFrZXMgZm9yIGl0IHRvIGJlIGZpeGVkIC0gYSBHaXN0IGlzIGFsd2F5cyB3ZWxjb21lZCFcbiAqIDMuIFNpbmNlIHNvbWUgaXNzdWVzIGFyZSBTYW5kYm94IHNwZWNpZmljLCBzcGVjaWZ5aW5nIHdoYXQgZW52aXJvbm1lbnQgeW91IGVuY291bnRlcmVkIHRoZSBpc3N1ZSBtaWdodCBoZWxwLlxuICpcbiAqICMjIFRlY2huaWNhbCBTdXBwb3J0IG9yIFF1ZXN0aW9uc1xuICpcbiAqIElmIHlvdSBoYXZlIHF1ZXN0aW9ucyBvciBuZWVkIGhlbHAgaW50ZWdyYXRpbmcgX1B1cmNoYXNlc18gcGxlYXNlIFtjb250YWN0IHVzXShodHRwczovL3d3dy5yZXZlbnVlY2F0LmNvbS9jb250YWN0KSBvciBlbWFpbCBfc3VwcG9ydEByZXZlbnVlY2F0LmNvbV8gaW5zdGVhZCBvZiBvcGVuaW5nIGFuIGlzc3VlLlxuICpcbiAqICMjIEZlYXR1cmUgUmVxdWVzdHNcbiAqXG4gKiBJZiB0aGVyZSBpcyBzb21ldGhpbmcgeW91J2QgbGlrZSB0byBzZWUgaW5jbHVkZWQgb3IgZmVlbCBhbnl0aGluZyBpcyBtaXNzaW5nIHlvdSBjYW4gYWRkIGEgZmVhdHVyZSB0byBvdXIgW3B1YmxpYyByb2FkbWFwXShodHRwczovL3RyZWxsby5jb20vYi9SWlJuV1JiSS9yZXZlbnVlY2F0LXByb2R1Y3Qtcm9hZG1hcCkuIElmIHRoZSBmZWF0dXJlIGFscmVhZHkgZXhpc3RzLCBvciB5b3Ugc2VlIHNvbWV0aGluZyBlbHNlIHlvdSdkIGxpa2UsIHVwdm90ZSBpdC5cbiAqXG4gKiAjIyBQcmljaW5nXG4gKlxuICogX1B1cmNoYXNlc18gU0RLIGlzIGZyZWUgdG8gdXNlIGJ1dCBzb21lIGZlYXR1cmVzIHJlcXVpcmUgYSBwYWlkIHBsYW4uIFlvdSBjYW4gZmluZCBtb3JlIGFib3V0IHRoYXQgb24gb3VyIHdlYnNpdGUgb24gdGhlIFtwcmljaW5nIHBsYW4gcGFnZV0oaHR0cHM6Ly93d3cucmV2ZW51ZWNhdC5jb20vcHJpY2luZykuXG4gKlxuICogQGludGVyZmFjZXNcbiAqIFJDUHVyY2hhc2VySW5mb1xuICogUkNQcm9kdWN0XG4gKiBSQ01ha2VQdXJjaGFzZVJlc3BvbnNlXG4gKiBSQ0Vycm9yXG4gKi9cbkBQbHVnaW4oe1xuICBwbHVnaW5OYW1lOiAnUHVyY2hhc2VzJyxcbiAgcGx1Z2luOiAnY29yZG92YS1wbHVnaW4tcHVyY2hhc2VzJyxcbiAgcGx1Z2luUmVmOiAnUHVyY2hhc2VzJywgLy8gdGhlIHZhcmlhYmxlIHJlZmVyZW5jZSB0byBjYWxsIHRoZSBwbHVnaW4sIGV4YW1wbGU6IG5hdmlnYXRvci5nZW9sb2NhdGlvblxuICByZXBvOiAnaHR0cHM6Ly9naXRodWIuY29tL1JldmVudWVDYXQvY29yZG92YS1wbHVnaW4tcHVyY2hhc2VzJywgLy8gdGhlIGdpdGh1YiByZXBvc2l0b3J5IFVSTCBmb3IgdGhlIHBsdWdpblxuICBwbGF0Zm9ybXM6IFsnQW5kcm9pZCcsICdpT1MnXSAvLyBBcnJheSBvZiBwbGF0Zm9ybXMgc3VwcG9ydGVkLCBleGFtcGxlOiBbJ0FuZHJvaWQnLCAnaU9TJ11cbn0pXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBQdXJjaGFzZXMgZXh0ZW5kcyBJb25pY05hdGl2ZVBsdWdpbiB7XG4gIC8qKlxuICAgKiBTZXRzIHVwIFB1cmNoYXNlcyB3aXRoIHlvdXIgQVBJIGtleSBhbmQgYW4gYXBwIHVzZXIgaWQuXG4gICAqIEBwYXJhbSBhcGlLZXkge3N0cmluZ30gUmV2ZW51ZUNhdCBBUEkgS2V5LiBOZWVkcyB0byBiZSBhIFN0cmluZ1xuICAgKiBAcGFyYW0gYXBwVXNlcklEIHtzdHJpbmc/fSBBIHVuaXF1ZSBpZCBmb3IgaWRlbnRpZnlpbmcgdGhlIHVzZXJcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXR1cChhcGlLZXk6IHN0cmluZywgYXBwVXNlcklEOiBzdHJpbmcpOiB2b2lkIHt9XG5cbiAgLyoqXG4gICAqIFNldCB0aGlzIHRvIHRydWUgaWYgeW91IGFyZSBwYXNzaW5nIGluIGFuIGFwcFVzZXJJRCBidXQgaXQgaXMgYW5vbnltb3VzLCB0aGlzIGlzIHRydWUgYnkgZGVmYXVsdCBpZiB5b3UgZGlkbid0IHBhc3MgYW4gYXBwVXNlcklEXG4gICAqIElmIGEgdXNlciB0cmllcyB0byBwdXJjaGFzZSBhIHByb2R1Y3QgdGhhdCBpcyBhY3RpdmUgb24gdGhlIGN1cnJlbnQgYXBwIHN0b3JlIGFjY291bnQsIHdlIHdpbGwgdHJlYXQgaXQgYXMgYSByZXN0b3JlIGFuZCBhbGlhc1xuICAgKiB0aGUgbmV3IElEIHdpdGggdGhlIHByZXZpb3VzIGlkLlxuICAgKiBAcGFyYW0gYWxsb3dTaGFyaW5nIHtib29sZWFufSB0cnVlIGlmIGVuYWJsZWQsIGZhbHNlIHRvIGRpYWJsZWRcbiAgICovXG4gIEBDb3Jkb3ZhKHsgc3luYzogdHJ1ZSB9KVxuICBzZXRBbGxvd1NoYXJpbmdTdG9yZUFjY291bnQoYWxsb3dTaGFyaW5nOiBib29sZWFuKTogdm9pZCB7fVxuXG4gIC8qKlxuICAgKiBBZGQgYSBkaWN0IG9mIGF0dHJpYnV0aW9uIGluZm9ybWF0aW9uXG4gICAqIEBwYXJhbSBkYXRhIHsgT2JqZWN0LjxzdHJpbmcsIGFueT4gfSBBdHRyaWJ1dGlvbiBkYXRhIGZyb20gYW55IG9mIHRoZSBhdHRyaWJ1dGlvbiBuZXR3b3JrcyBpbiBBVFRSSUJVVElPTl9ORVRXT1JLU1xuICAgKiBAcGFyYW0gbmV0d29yayB7QVRUUklCVVRJT05fTkVUV09SS1N9IFdoaWNoIG5ldHdvcmssIHNlZSBBVFRSSUJVVElPTl9ORVRXT1JLU1xuICAgKi9cbiAgQENvcmRvdmEoeyBzeW5jOiB0cnVlIH0pXG4gIGFkZEF0dHJpYnV0aW9uRGF0YShcbiAgICBkYXRhOiB7IFtrZXk6IHN0cmluZ106IGFueSB9LFxuICAgIG5ldHdvcms6IEFUVFJJQlVUSU9OX05FVFdPUktTXG4gICk6IHZvaWQge31cblxuICAvKipcbiAgICogR2V0cyB0aGUgbWFwIG9mIGVudGl0bGVtZW50cyAtPiBvZmZlcmluZ3MgLT4gcHJvZHVjdHNcbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxNYXA8U3RyaW5nLCBNYXA8U3RyaW5nLCBQcm9kdWN0Pj4+fSBFcnJvcnMgYXJlIG9mIHR5cGUgW1JDRXJyb3JdXG4gICAqL1xuICBAQ29yZG92YSh7IG9ic2VydmFibGU6IHRydWUgfSlcbiAgZ2V0RW50aXRsZW1lbnRzKCk6IE9ic2VydmFibGU8TWFwPFN0cmluZywgTWFwPFN0cmluZywgUkNQcm9kdWN0Pj4+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggdGhlIHByb2R1Y3QgaW5mb1xuICAgKiBAcGFyYW0gcHJvZHVjdElkZW50aWZpZXJzIHtzdHJpbmdbXX0gQXJyYXkgb2YgcHJvZHVjdCBpZGVudGlmaWVyc1xuICAgKiBAcGFyYW0gdHlwZSB7UHJvZHVjdFR5cGV9IE9wdGlvbmFsIHR5cGUgb2YgcHJvZHVjdHMgdG8gZmV0Y2gsIGNhbiBiZSBpbmFwcCBvciBzdWJzLiBTdWJzIGJ5IGRlZmF1bHRcbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxBcnJheT59IFdpbGwgcmV0dXJuIGFuIFtSQ0Vycm9yXSBpZiB0aGUgcHJvZHVjdHMgYXJlIG5vdCBwcm9wZXJseSBjb25maWd1cmVkIGluIFJldmVudWVDYXQgb3IgaWYgdGhlcmUgaXMgYW5vdGhlciBlcnJvciByZXRyaWV2aW5nIHRoZW0uXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZVxuICB9KVxuICBnZXRQcm9kdWN0cyhcbiAgICBwcm9kdWN0SWRlbnRpZmllcnM6IHN0cmluZ1tdLFxuICAgIHR5cGU6IFByb2R1Y3RUeXBlID0gUHJvZHVjdFR5cGUuU1VCU1xuICApOiBPYnNlcnZhYmxlPFtSQ1Byb2R1Y3RdPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ha2UgYSBwdXJjaGFzZVxuICAgKiBAcGFyYW0gcHJvZHVjdElkZW50aWZpZXIge3N0cmluZ30gVGhlIHByb2R1Y3QgaWRlbnRpZmllciBvZiB0aGUgcHJvZHVjdCB5b3Ugd2FudCB0byBwdXJjaGFzZS5cbiAgICogQHBhcmFtIG9sZFNrdXMge3N0cmluZ1tdfSBPcHRpb25hbCBhcnJheSBvZiBza3VzIHlvdSB3aXNoIHRvIHVwZ3JhZGUgZnJvbS5cbiAgICogQHBhcmFtIHR5cGUge1N0cmluZ30gT3B0aW9uYWwgdHlwZSBvZiBwcm9kdWN0LCBjYW4gYmUgaW5hcHAgb3Igc3Vicy4gU3VicyBieSBkZWZhdWx0XG4gICAqXG4gICAqIEByZXR1cm4ge09ic2VydmFibGU8TWFrZVB1cmNoYXNlUmVzcG9uc2U+fSBBbiBbUkNFcnJvcl0gaXMgdGhyb3duIHdoZW4gdXNlciBjYW5jZWxzLiBPbiBlcnJvciBgdXNlcmNhbmNlbGxlZGAgd2lsbCBiZSB0cnVlIGlmIHVzZXIgY2FuY2VsbGVkXG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgc3VjY2Vzc0luZGV4OiAxLFxuICAgIGVycm9ySW5kZXg6IDIsXG4gICAgb2JzZXJ2YWJsZTogdHJ1ZVxuICB9KVxuICBtYWtlUHVyY2hhc2UoXG4gICAgcHJvZHVjdElkZW50aWZpZXI6IHN0cmluZyxcbiAgICBvbGRTa3VzOiBzdHJpbmdbXSA9IFtdLFxuICAgIHR5cGU6IFByb2R1Y3RUeXBlID0gUHJvZHVjdFR5cGUuU1VCU1xuICApOiBPYnNlcnZhYmxlPFJDTWFrZVB1cmNoYXNlUmVzcG9uc2U+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVzdG9yZXMgYSB1c2VyJ3MgcHJldmlvdXMgcHVyY2hhc2VzIGFuZCBsaW5rcyB0aGVpciBhcHBVc2VySURzIHRvIGFueSB1c2VyJ3MgYWxzbyB1c2luZyB0aG9zZSBwdXJjaGFzZXMuXG4gICAqXG4gICAqIEByZXR1cm4ge09ic2VydmFibGU8UHVyY2hhc2VySW5mbz59IEVycm9ycyBhcmUgb2YgdHlwZSBbUkNFcnJvcl1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb2JzZXJ2YWJsZTogdHJ1ZSB9KVxuICByZXN0b3JlVHJhbnNhY3Rpb25zKCk6IE9ic2VydmFibGU8UkNQdXJjaGFzZXJJbmZvPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXBwVXNlcklEIHRoYXQgaXMgY3VycmVudGx5IGluIHBsYWNlZCBpbiB0aGUgU0RLXG4gICAqXG4gICAqIEByZXR1cm4ge1Byb21pc2U8c3RyaW5nPn1cbiAgICovXG4gIEBDb3Jkb3ZhKClcbiAgZ2V0QXBwVXNlcklEKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBhbGlhcyB0d28gYXBwVXNlcklEcyB0b2dldGhlci5cbiAgICogQHBhcmFtIG5ld0FwcFVzZXJJRCB7U3RyaW5nfSBUaGUgbmV3IGFwcFVzZXJJRCB0aGF0IHNob3VsZCBiZSBsaW5rZWQgdG8gdGhlIGN1cnJlbnRseSBpZGVudGlmaWVkIGFwcFVzZXJJRC4gTmVlZHMgdG8gYmUgYSBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4ge09ic2VydmFibGU8UHVyY2hhc2VySW5mbz59IEVycm9ycyBhcmUgb2YgdHlwZSBbUkNFcnJvcl1cbiAgICovXG4gIEBDb3Jkb3ZhKHsgb2JzZXJ2YWJsZTogdHJ1ZSB9KVxuICBjcmVhdGVBbGlhcyhuZXdBcHBVc2VySUQ6IHN0cmluZyk6IE9ic2VydmFibGU8UkNQdXJjaGFzZXJJbmZvPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBpZGVudGlmeSB0aGUgY3VycmVudCB1c2VyIHdpdGggYW4gYXBwVXNlcklELiBUeXBpY2FsbHkgdGhpcyB3b3VsZCBiZSB1c2VkIGFmdGVyIGEgbG9nb3V0IHRvIGlkZW50aWZ5IGEgbmV3IHVzZXIgd2l0aG91dCBjYWxsaW5nIGNvbmZpZ3VyZVxuICAgKiBAcGFyYW0gbmV3QXBwVXNlcklEIHtTdHJpbmd9IFRoZSBuZXcgYXBwVXNlcklEIHRoYXQgc2hvdWxkIGJlIGxpbmtlZCB0byB0aGUgY3VycmVudGx5IGlkZW50aWZpZWQgYXBwVXNlcklELiBOZWVkcyB0byBiZSBhIHN0cmluZy5cbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxQdXJjaGFzZXJJbmZvPn0gRXJyb3JzIGFyZSBvZiB0eXBlIFtSQ0Vycm9yXVxuICAgKi9cbiAgQENvcmRvdmEoeyBvYnNlcnZhYmxlOiB0cnVlIH0pXG4gIGlkZW50aWZ5KG5ld0FwcFVzZXJJRDogc3RyaW5nKTogT2JzZXJ2YWJsZTxSQ1B1cmNoYXNlckluZm8+IHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBQdXJjaGFzZXMgY2xpZW50IGNsZWFyaW5nIHRoZSBzYXZlZCBhcHBVc2VySUQuIFRoaXMgd2lsbCBnZW5lcmF0ZSBhIHJhbmRvbSB1c2VyIGlkIGFuZCBzYXZlIGl0IGluIHRoZSBjYWNoZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JzZXJ2YWJsZTxQdXJjaGFzZXJJbmZvPn0gRXJyb3JzIGFyZSBvZiB0eXBlIFtSQ0Vycm9yXVxuICAgKi9cbiAgQENvcmRvdmEoeyBvYnNlcnZhYmxlOiB0cnVlIH0pXG4gIHJlc2V0KCk6IE9ic2VydmFibGU8UkNQdXJjaGFzZXJJbmZvPiB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGN1cnJlbnQgcHVyY2hhc2VyIGluZm8uIFRoaXMgY2FsbCB3aWxsIHJldHVybiB0aGUgY2FjaGVkIHB1cmNoYXNlciBpbmZvIHVubGVzcyB0aGUgY2FjaGUgaXMgc3RhbGUsIGluIHdoaWNoIGNhc2UsXG4gICAqIGl0IHdpbGwgbWFrZSBhIG5ldHdvcmsgY2FsbCB0byByZXRyaWV2ZSBpdCBmcm9tIHRoZSBzZXJ2ZXJzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYnNlcnZhYmxlPFB1cmNoYXNlckluZm8+fSBFcnJvcnMgYXJlIG9mIHR5cGUgW1JDRXJyb3JdXG4gICAqL1xuICBAQ29yZG92YSh7IG9ic2VydmFibGU6IHRydWUgfSlcbiAgZ2V0UHVyY2hhc2VySW5mbygpOiBPYnNlcnZhYmxlPFJDUHVyY2hhc2VySW5mbz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9ic2VydmFibGUgdGhhdCBjYW4gYmUgdXNlZCB0byByZWNlaXZlIHVwZGF0ZXMgb24gdGhlIHB1cmNoYXNlciBpbmZvXG4gICAqXG4gICAqIEByZXR1cm4ge09ic2VydmFibGU8UHVyY2hhc2VySW5mbz59XG4gICAqL1xuICBAQ29yZG92YSh7XG4gICAgZXZlbnRPYnNlcnZhYmxlOiB0cnVlLFxuICAgIGV2ZW50OiAnb25QdXJjaGFzZXJJbmZvVXBkYXRlZCcsXG4gICAgZWxlbWVudDogJ3dpbmRvdydcbiAgfSlcbiAgb25QdXJjaGFzZXJJbmZvVXBkYXRlZCgpOiBPYnNlcnZhYmxlPFJDUHVyY2hhc2VySW5mbz4ge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzL0Rpc2FibGVzIGRlYnVncyBsb2dzXG4gICAqIEBwYXJhbSBlbmFibGVkIHtib29sZWFufSB0cnVlIHRvIGVuYWJsZSBkZWJ1ZyBsb2dzLCBmYWxzZSB0byBkaXNhYmxlXG4gICAqL1xuICBAQ29yZG92YSh7IHN5bmM6IHRydWUgfSlcbiAgc2V0RGVidWdMb2dzRW5hYmxlZChlbmFibGVkOiBib29sZWFuKTogdm9pZCB7fVxufVxuXG5leHBvcnQgZW51bSBQcm9kdWN0VHlwZSB7XG4gIFNVQlMgPSAnc3VicycsXG4gIElOQVBQID0gJ2luYXBwJ1xufVxuXG5leHBvcnQgZW51bSBBVFRSSUJVVElPTl9ORVRXT1JLUyB7XG4gIEFQUExFX1NFQVJDSF9BRFMgPSAwLFxuICBBREpVU1QgPSAxLFxuICBBUFBTRkxZRVIgPSAyLFxuICBCUkFOQ0ggPSAzLFxuICBURU5KSU4gPSA0XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUkNQcm9kdWN0IHtcbiAgaWRlbnRpZmllcjogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xuICBwcmljZV9zdHJpbmc6IHN0cmluZztcbiAgaW50cm9fcHJpY2U/OiBzdHJpbmc7XG4gIGludHJvX3ByaWNlX3N0cmluZz86IHN0cmluZztcbiAgaW50cm9fcHJpY2VfcGVyaW9kPzogc3RyaW5nO1xuICBpbnRyb19wcmljZV9jeWNsZXM/OiBudW1iZXI7XG4gIGN1cnJlbmN5X2NvZGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSQ1B1cmNoYXNlckluZm8ge1xuICBhY3RpdmVFbnRpdGxlbWVudHM6IHN0cmluZ1tdO1xuICBhY3RpdmVTdWJzY3JpcHRpb25zOiBzdHJpbmdbXTtcbiAgYWxsUHVyY2hhc2VkUHJvZHVjdElkZW50aWZpZXJzOiBzdHJpbmdbXTtcbiAgbGF0ZXN0RXhwaXJhdGlvbkRhdGU/OiBzdHJpbmc7XG4gIGFsbEV4cGlyYXRpb25EYXRlczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudWxsIH07XG4gIGV4cGlyYXRpb25zRm9yQWN0aXZlRW50aXRsZW1lbnRzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB8IG51bGwgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSQ01ha2VQdXJjaGFzZVJlc3BvbnNlIHtcbiAgcHJvZHVjdElkZW50aWZpZXI6IHN0cmluZztcbiAgcHVyY2hhc2VySW5mbzogUkNQdXJjaGFzZXJJbmZvO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJDRXJyb3Ige1xuICBjb2RlOiBudW1iZXI7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgdW5kZXJseWluZ0Vycm9yTWVzc2FnZT86IHN0cmluZztcbn1cbiJdfQ==